import{d as e,f as l,g as a,c as t,a as o,w as n,r as u,b as s,e as i,F as d,i as r,t as p,E as m,j as c,o as v,h as f,k as y}from"./index-BC9HrUss.js";import{_ as b}from"./_plugin-vue_export-helper-BCo6x5W8.js";const V={class:"paper-list"},g={class:"header-content"},_={class:"question-list"},h={class:"question-header"},C={class:"question-actions"},w={class:"dialog-footer"},k={class:"paper-preview"},q={class:"paper-info"},S={class:"paper-meta"},U={class:"questions-preview"},x={class:"question-preview-header"},j={class:"question-number"},J={class:"question-type"},O={class:"question-score"},z={class:"question-content"},N={class:"question-title"},A={key:0,class:"question-options"},B={class:"question-answer"},D=b(e({__name:"PaperList",setup(e){const b=l([{id:1,name:"Java基础试卷",totalScore:100,duration:"120分钟",questionCount:20,questions:[{title:"Java中的基本数据类型有哪些？",type:"multiple",score:10,options:[{label:"byte",value:"A"},{label:"short",value:"B"},{label:"int",value:"C"},{label:"long",value:"D"},{label:"string",value:"E"}],answer:["A","B","C","D"]},{title:"以下说法正确吗：Java中的String是基本数据类型",type:"judge",score:5,answer:!1}]}]),D=a(!1),I=a(!1),E=a(!1),T=a({}),F=l({id:0,name:"",totalScore:100,duration:"",questionCount:0,questions:[]}),L=()=>{E.value=!1,Object.assign(F,{id:0,name:"",totalScore:100,duration:"",questionCount:0,questions:[]}),D.value=!0},P=()=>{F.questions.push({title:"",type:"single",score:5,options:[{label:"",value:"A"},{label:"",value:"B"},{label:"",value:"C"},{label:"",value:"D"}],answer:""})},G=()=>{if(F.name&&F.duration)if(0!==F.questions.length){if(F.questionCount=F.questions.length,F.totalScore=F.questions.reduce(((e,l)=>e+l.score),0),E.value){const e=b.findIndex((e=>e.id===F.id));-1!==e&&(b[e]=JSON.parse(JSON.stringify(F)))}else F.id=b.length+1,b.push(JSON.parse(JSON.stringify(F)));D.value=!1,c.success(E.value?"编辑成功":"创建成功")}else c.warning("请至少添加一道题目");else c.warning("请填写完整的试卷信息")};return(e,l)=>{const a=u("el-button"),H=u("el-header"),K=u("el-table-column"),M=u("el-table"),Q=u("el-input"),R=u("el-form-item"),W=u("el-input-number"),X=u("el-option"),Y=u("el-select"),Z=u("el-checkbox"),$=u("el-checkbox-group"),ee=u("el-radio"),le=u("el-radio-group"),ae=u("el-form"),te=u("el-card"),oe=u("el-dialog"),ne=u("el-main"),ue=u("el-container");return v(),t("div",V,[o(ue,null,{default:n((()=>[o(H,null,{default:n((()=>[s("div",g,[l[7]||(l[7]=s("h2",null,"试卷列表",-1)),o(a,{type:"primary",onClick:L},{default:n((()=>l[6]||(l[6]=[i("创建试卷")]))),_:1})])])),_:1}),o(ne,null,{default:n((()=>[o(M,{data:b,style:{width:"100%"}},{default:n((()=>[o(K,{prop:"name",label:"试卷名称"}),o(K,{prop:"totalScore",label:"总分"}),o(K,{prop:"duration",label:"建议时长"}),o(K,{prop:"questionCount",label:"题目数量"}),o(K,{label:"操作",width:"250"},{default:n((e=>[o(a,{type:"primary",size:"small",onClick:l=>{return a=e.row,T.value=a,void(I.value=!0);var a}},{default:n((()=>l[8]||(l[8]=[i("预览")]))),_:2},1032,["onClick"]),o(a,{type:"warning",size:"small",onClick:l=>{return a=e.row,E.value=!0,Object.assign(F,JSON.parse(JSON.stringify(a))),void(D.value=!0);var a}},{default:n((()=>l[9]||(l[9]=[i("编辑")]))),_:2},1032,["onClick"]),o(a,{type:"danger",size:"small",onClick:l=>{return a=e.row,void m.confirm("确定要删除这份试卷吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{const e=b.findIndex((e=>e.id===a.id));-1!==e&&(b.splice(e,1),c.success("删除成功"))}));var a}},{default:n((()=>l[10]||(l[10]=[i("删除")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),o(oe,{modelValue:D.value,"onUpdate:modelValue":l[4]||(l[4]=e=>D.value=e),title:E.value?"编辑试卷":"创建试卷",width:"60%"},{footer:n((()=>[s("span",w,[o(a,{onClick:l[3]||(l[3]=e=>D.value=!1)},{default:n((()=>l[17]||(l[17]=[i("取消")]))),_:1}),o(a,{type:"primary",onClick:G},{default:n((()=>l[18]||(l[18]=[i("保存")]))),_:1})])])),default:n((()=>[o(ae,{model:F,"label-width":"100px"},{default:n((()=>[o(R,{label:"试卷名称"},{default:n((()=>[o(Q,{modelValue:F.name,"onUpdate:modelValue":l[0]||(l[0]=e=>F.name=e),placeholder:"请输入试卷名称"},null,8,["modelValue"])])),_:1}),o(R,{label:"总分"},{default:n((()=>[o(W,{modelValue:F.totalScore,"onUpdate:modelValue":l[1]||(l[1]=e=>F.totalScore=e),min:0,max:100},null,8,["modelValue"])])),_:1}),o(R,{label:"建议时长"},{default:n((()=>[o(Q,{modelValue:F.duration,"onUpdate:modelValue":l[2]||(l[2]=e=>F.duration=e),placeholder:"请输入建议时长（如：120分钟）"},null,8,["modelValue"])])),_:1}),o(R,{label:"试卷题目"},{default:n((()=>[s("div",_,[(v(!0),t(d,null,r(F.questions,((e,u)=>(v(),t("div",{key:u,class:"question-edit-item"},[o(te,null,{header:n((()=>[s("div",h,[s("span",null,"题目 "+p(u+1),1),s("div",C,[o(W,{modelValue:e.score,"onUpdate:modelValue":l=>e.score=l,min:0,max:100,size:"small",placeholder:"分值"},null,8,["modelValue","onUpdate:modelValue"]),o(a,{type:"danger",size:"small",onClick:e=>(e=>{F.questions.splice(e,1)})(u)},{default:n((()=>l[11]||(l[11]=[i("删除")]))),_:2},1032,["onClick"])])])])),default:n((()=>[o(ae,{model:e},{default:n((()=>[o(R,{label:"题目"},{default:n((()=>[o(Q,{modelValue:e.title,"onUpdate:modelValue":l=>e.title=l,type:"textarea",rows:2},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),o(R,{label:"题型"},{default:n((()=>[o(Y,{modelValue:e.type,"onUpdate:modelValue":l=>e.type=l,placeholder:"请选择题型"},{default:n((()=>[o(X,{label:"单选题",value:"single"}),o(X,{label:"多选题",value:"multiple"}),o(X,{label:"判断题",value:"judge"}),o(X,{label:"简答题",value:"text"})])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1024),["single","multiple"].includes(e.type)?(v(),t(d,{key:0},[o(R,{label:"选项"},{default:n((()=>[(v(!0),t(d,null,r(e.options,((u,s)=>(v(),t("div",{key:s,class:"option-item"},[o(Q,{modelValue:u.label,"onUpdate:modelValue":e=>u.label=e,placeholder:"选项内容"},{prepend:n((()=>[i(p(String.fromCharCode(65+s)),1)])),_:2},1032,["modelValue","onUpdate:modelValue"]),o(a,{type:"danger",size:"small",onClick:l=>((e,l)=>{e.options&&e.options.splice(l,1)})(e,s)},{default:n((()=>l[12]||(l[12]=[i("删除")]))),_:2},1032,["onClick"])])))),128)),o(a,{type:"primary",size:"small",onClick:l=>(e=>{e.options||(e.options=[]),e.options.push({label:"",value:String.fromCharCode(65+e.options.length)})})(e)},{default:n((()=>l[13]||(l[13]=[i("添加选项")]))),_:2},1032,["onClick"])])),_:2},1024),o(R,{label:"正确答案"},{default:n((()=>["single"===e.type?(v(),y(Y,{key:0,modelValue:e.answer,"onUpdate:modelValue":l=>e.answer=l,placeholder:"请选择正确答案"},{default:n((()=>[(v(!0),t(d,null,r(e.options,((e,l)=>(v(),y(X,{key:l,label:String.fromCharCode(65+l),value:String.fromCharCode(65+l)},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])):(v(),y($,{key:1,modelValue:e.answer,"onUpdate:modelValue":l=>e.answer=l},{default:n((()=>[(v(!0),t(d,null,r(e.options,((e,l)=>(v(),y(Z,{key:l,label:String.fromCharCode(65+l)},{default:n((()=>[i(p(String.fromCharCode(65+l)),1)])),_:2},1032,["label"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"]))])),_:2},1024)],64)):f("",!0),"judge"===e.type?(v(),y(R,{key:1,label:"正确答案"},{default:n((()=>[o(le,{modelValue:e.answer,"onUpdate:modelValue":l=>e.answer=l},{default:n((()=>[o(ee,{label:!0},{default:n((()=>l[14]||(l[14]=[i("正确")]))),_:1}),o(ee,{label:!1},{default:n((()=>l[15]||(l[15]=[i("错误")]))),_:1})])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1024)):f("",!0),"text"===e.type?(v(),y(R,{key:2,label:"参考答案"},{default:n((()=>[o(Q,{modelValue:e.answer,"onUpdate:modelValue":l=>e.answer=l,type:"textarea",rows:3,placeholder:"请输入参考答案"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)):f("",!0)])),_:2},1032,["model"])])),_:2},1024)])))),128)),o(a,{type:"primary",onClick:P},{default:n((()=>l[16]||(l[16]=[i("添加题目")]))),_:1})])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title"]),o(oe,{modelValue:I.value,"onUpdate:modelValue":l[5]||(l[5]=e=>I.value=e),title:"试卷预览",width:"80%"},{default:n((()=>[s("div",k,[s("div",q,[s("h2",null,p(T.value.name),1),s("div",S,[s("span",null,"总分："+p(T.value.totalScore)+"分",1),s("span",null,"建议时长："+p(T.value.duration),1)])]),s("div",U,[(v(!0),t(d,null,r(T.value.questions,((e,a)=>{return v(),t("div",{key:a,class:"question-preview-item"},[s("div",x,[s("span",j,p(a+1),1),s("span",J,"["+p((o=e.type,{single:"单选题",multiple:"多选题",judge:"判断题",text:"简答题"}[o]||o))+"]",1),s("span",O,p(e.score)+"分",1)]),s("div",z,[s("p",N,p(e.title),1),["single","multiple"].includes(e.type)?(v(),t("div",A,[(v(!0),t(d,null,r(e.options,((e,l)=>(v(),t("div",{key:l,class:"option"},p(String.fromCharCode(65+l))+". "+p(e.label),1)))),128))])):f("",!0),s("div",B,[l[19]||(l[19]=s("strong",null,"答案：",-1)),"single"===e.type||"multiple"===e.type?(v(),t(d,{key:0},[i(p(Array.isArray(e.answer)?e.answer.join("、"):e.answer),1)],64)):"judge"===e.type?(v(),t(d,{key:1},[i(p(e.answer?"正确":"错误"),1)],64)):(v(),t(d,{key:2},[i(p(e.answer),1)],64))])])]);var o})),128))])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])}}}),[["__scopeId","data-v-95543a20"]]);export{D as default};
