import{E as e,a as l}from"./index-D2rUC4Mh.js";import{z as a,Z as t,r as o,A as u,R as i,J as n,ai as d,C as s,O as r,L as p,P as m,Q as v,a8 as c,B as f,I as y}from"./vue-vendor-Cplzq9AV.js";import{_ as b}from"./_plugin-vue_export-helper-BCo6x5W8.js";const V={class:"exam-list"},_={class:"header-content"},g={class:"exam-content"},h={class:"exam-info"},k={key:0,class:"timer"},C={key:0,class:"questions"},x={key:0,class:"options"},T={class:"dialog-footer"},U={class:"question-list"},q={class:"question-header"},w={class:"dialog-footer"},S=b(a({__name:"ExamList",setup(a){const b=t([{id:1,name:"Java基础考试",duration:"120分钟",startTime:"2024-03-22 10:00",endTime:"2024-03-22 12:00",questions:[{title:"Java中的基本数据类型有哪些？",type:"multiple",options:[{label:"byte",value:"A"},{label:"short",value:"B"},{label:"int",value:"C"},{label:"long",value:"D"},{label:"string",value:"E"}]},{title:"以下哪个不是Java的特性？",type:"single",options:[{label:"封装",value:"A"},{label:"继承",value:"B"},{label:"多态",value:"C"},{label:"指针",value:"D"}]},{title:"简述Java中的多态是什么？请举例说明。",type:"text"}]},{id:2,name:"数据库设计考试",duration:"90分钟",startTime:"2024-03-23 14:00",endTime:"2024-03-23 15:30",questions:[{title:"数据库的三大范式是什么？",type:"text"},{title:"以下哪些是关系型数据库？",type:"multiple",options:[{label:"MySQL",value:"A"},{label:"MongoDB",value:"B"},{label:"PostgreSQL",value:"C"},{label:"Redis",value:"D"}]}]}]),S=o(!1),J=o(!1),O=o(!1),B=o({}),z=o([]),A=o(0),I=t({id:0,name:"",duration:"",startTime:"",endTime:"",questions:[]}),N=()=>{O.value=!1,Object.assign(I,{id:0,name:"",duration:"",startTime:"",endTime:"",questions:[]}),J.value=!0},j=()=>{I.questions.push({title:"",type:"single",options:[{label:"",value:"A"},{label:"",value:"B"},{label:"",value:"C"},{label:"",value:"D"}]})},D=()=>{if(I.name&&I.duration&&I.startTime&&I.endTime)if(0!==I.questions.length){if(O.value){const e=b.findIndex((e=>e.id===I.id));-1!==e&&(b[e]=JSON.parse(JSON.stringify(I)))}else I.id=b.length+1,b.push(JSON.parse(JSON.stringify(I)));J.value=!1,l.success(O.value?"编辑成功":"创建成功")}else l.warning("请至少添加一道题目");else l.warning("请填写完整的考试信息")},L=()=>{const e=setInterval((()=>{A.value>0?A.value--:(clearInterval(e),E())}),1e3)},E=()=>{l.success("考试提交成功！"),S.value=!1};return(a,t)=>{const o=d("el-button"),M=d("el-header"),Q=d("el-table-column"),P=d("el-table"),R=d("el-radio"),$=d("el-radio-group"),Z=d("el-checkbox"),F=d("el-checkbox-group"),G=d("el-input"),H=d("el-dialog"),K=d("el-form-item"),W=d("el-date-picker"),X=d("el-option"),Y=d("el-select"),ee=d("el-form"),le=d("el-card"),ae=d("el-main"),te=d("el-container");return f(),u("div",V,[i(te,null,{default:n((()=>[i(M,null,{default:n((()=>[s("div",_,[t[8]||(t[8]=s("h2",null,"考试列表",-1)),i(o,{type:"primary",onClick:N},{default:n((()=>t[7]||(t[7]=[r("创建考试")]))),_:1})])])),_:1}),i(ae,null,{default:n((()=>[i(P,{data:b,style:{width:"100%"}},{default:n((()=>[i(Q,{prop:"name",label:"考试名称"}),i(Q,{prop:"duration",label:"考试时长"}),i(Q,{prop:"startTime",label:"开始时间"}),i(Q,{prop:"endTime",label:"结束时间"}),i(Q,{label:"操作",width:"250"},{default:n((a=>[i(o,{type:"primary",size:"small",onClick:e=>{return l=a.row,B.value=l,z.value=new Array(l.questions.length),S.value=!0,A.value=300,void L();var l}},{default:n((()=>t[9]||(t[9]=[r("开始考试")]))),_:2},1032,["onClick"]),i(o,{type:"warning",size:"small",onClick:e=>{return l=a.row,O.value=!0,Object.assign(I,JSON.parse(JSON.stringify(l))),void(J.value=!0);var l}},{default:n((()=>t[10]||(t[10]=[r("编辑")]))),_:2},1032,["onClick"]),i(o,{type:"danger",size:"small",onClick:t=>{return o=a.row,void e.confirm("确定要删除这个考试吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{const e=b.findIndex((e=>e.id===o.id));-1!==e&&(b.splice(e,1),l.success("删除成功"))}));var o}},{default:n((()=>t[11]||(t[11]=[r("删除")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),i(H,{modelValue:S.value,"onUpdate:modelValue":t[0]||(t[0]=e=>S.value=e),title:"在线考试",width:"80%","close-on-click-modal":!1},{footer:n((()=>[s("span",T,[i(o,{type:"primary",onClick:E},{default:n((()=>t[12]||(t[12]=[r("提交试卷")]))),_:1})])])),default:n((()=>{return[s("div",g,[s("div",h,[s("h3",null,m(B.value.name),1),s("p",null,"考试时长："+m(B.value.duration),1),A.value?(f(),u("div",k,"剩余时间："+m((e=A.value,`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`)),1)):p("",!0)]),B.value.questions?(f(),u("div",C,[(f(!0),u(v,null,c(B.value.questions,((e,l)=>(f(),u("div",{key:l,class:"question-item"},[s("h4",null,m(l+1)+". "+m(e.title),1),"single"===e.type||"multiple"===e.type?(f(),u("div",x,["single"===e.type?(f(),y($,{key:0,modelValue:z.value[l],"onUpdate:modelValue":e=>z.value[l]=e},{default:n((()=>[(f(!0),u(v,null,c(e.options,((e,l)=>(f(),y(R,{key:l,label:e.value},{default:n((()=>[r(m(e.label),1)])),_:2},1032,["label"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])):(f(),y(F,{key:1,modelValue:z.value[l],"onUpdate:modelValue":e=>z.value[l]=e},{default:n((()=>[(f(!0),u(v,null,c(e.options,((e,l)=>(f(),y(Z,{key:l,label:e.value},{default:n((()=>[r(m(e.label),1)])),_:2},1032,["label"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"]))])):"text"===e.type?(f(),y(G,{key:1,type:"textarea",modelValue:z.value[l],"onUpdate:modelValue":e=>z.value[l]=e,rows:4,placeholder:"请输入答案"},null,8,["modelValue","onUpdate:modelValue"])):p("",!0)])))),128))])):p("",!0)])];var e})),_:1},8,["modelValue"]),i(H,{modelValue:J.value,"onUpdate:modelValue":t[6]||(t[6]=e=>J.value=e),title:O.value?"编辑考试":"创建考试",width:"60%"},{footer:n((()=>[s("span",w,[i(o,{onClick:t[5]||(t[5]=e=>J.value=!1)},{default:n((()=>t[17]||(t[17]=[r("取消")]))),_:1}),i(o,{type:"primary",onClick:D},{default:n((()=>t[18]||(t[18]=[r("保存")]))),_:1})])])),default:n((()=>[i(ee,{model:I,"label-width":"100px"},{default:n((()=>[i(K,{label:"考试名称"},{default:n((()=>[i(G,{modelValue:I.name,"onUpdate:modelValue":t[1]||(t[1]=e=>I.name=e),placeholder:"请输入考试名称"},null,8,["modelValue"])])),_:1}),i(K,{label:"考试时长"},{default:n((()=>[i(G,{modelValue:I.duration,"onUpdate:modelValue":t[2]||(t[2]=e=>I.duration=e),placeholder:"请输入考试时长（如：120分钟）"},null,8,["modelValue"])])),_:1}),i(K,{label:"开始时间"},{default:n((()=>[i(W,{modelValue:I.startTime,"onUpdate:modelValue":t[3]||(t[3]=e=>I.startTime=e),type:"datetime",placeholder:"选择开始时间"},null,8,["modelValue"])])),_:1}),i(K,{label:"结束时间"},{default:n((()=>[i(W,{modelValue:I.endTime,"onUpdate:modelValue":t[4]||(t[4]=e=>I.endTime=e),type:"datetime",placeholder:"选择结束时间"},null,8,["modelValue"])])),_:1}),i(K,{label:"考试题目"},{default:n((()=>[s("div",U,[(f(!0),u(v,null,c(I.questions,((e,l)=>(f(),u("div",{key:l,class:"question-edit-item"},[i(le,null,{header:n((()=>[s("div",q,[s("span",null,"题目 "+m(l+1),1),i(o,{type:"danger",size:"small",onClick:e=>(e=>{I.questions.splice(e,1)})(l)},{default:n((()=>t[13]||(t[13]=[r("删除")]))),_:2},1032,["onClick"])])])),default:n((()=>[i(ee,{model:e},{default:n((()=>[i(K,{label:"题目"},{default:n((()=>[i(G,{modelValue:e.title,"onUpdate:modelValue":l=>e.title=l,type:"textarea",rows:2},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),i(K,{label:"题型"},{default:n((()=>[i(Y,{modelValue:e.type,"onUpdate:modelValue":l=>e.type=l,placeholder:"请选择题型"},{default:n((()=>[i(X,{label:"单选题",value:"single"}),i(X,{label:"多选题",value:"multiple"}),i(X,{label:"简答题",value:"text"})])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1024),"single"===e.type||"multiple"===e.type?(f(),y(K,{key:0,label:"选项"},{default:n((()=>[(f(!0),u(v,null,c(e.options,((l,a)=>(f(),u("div",{key:a,class:"option-item"},[i(G,{modelValue:l.label,"onUpdate:modelValue":e=>l.label=e,placeholder:"选项内容"},{prepend:n((()=>[r(m(String.fromCharCode(65+a)),1)])),_:2},1032,["modelValue","onUpdate:modelValue"]),i(o,{type:"danger",size:"small",onClick:l=>((e,l)=>{e.options&&e.options.splice(l,1)})(e,a)},{default:n((()=>t[14]||(t[14]=[r("删除")]))),_:2},1032,["onClick"])])))),128)),i(o,{type:"primary",size:"small",onClick:l=>(e=>{e.options||(e.options=[]),e.options.push({label:"",value:String.fromCharCode(65+e.options.length)})})(e)},{default:n((()=>t[15]||(t[15]=[r("添加选项")]))),_:2},1032,["onClick"])])),_:2},1024)):p("",!0)])),_:2},1032,["model"])])),_:2},1024)])))),128)),i(o,{type:"primary",onClick:j},{default:n((()=>t[16]||(t[16]=[r("添加题目")]))),_:1})])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title"])])),_:1})])),_:1})])}}}),[["__scopeId","data-v-066ec3fe"]]);export{S as default};
