import{d as e,f as l,g as a,c as t,a as o,w as u,r as i,b as n,e as d,h as s,t as r,F as p,i as m,E as v,j as c,o as f,k as y}from"./index-3Hw1j-31.js";import{_ as b}from"./_plugin-vue_export-helper-BCo6x5W8.js";const V={class:"exam-list"},_={class:"header-content"},g={class:"exam-content"},h={class:"exam-info"},k={key:0,class:"timer"},C={key:0,class:"questions"},x={key:0,class:"options"},T={class:"dialog-footer"},U={class:"question-list"},q={class:"question-header"},w={class:"dialog-footer"},S=b(e({__name:"ExamList",setup(e){const b=l([{id:1,name:"Java基础考试",duration:"120分钟",startTime:"2024-03-22 10:00",endTime:"2024-03-22 12:00",questions:[{title:"Java中的基本数据类型有哪些？",type:"multiple",options:[{label:"byte",value:"A"},{label:"short",value:"B"},{label:"int",value:"C"},{label:"long",value:"D"},{label:"string",value:"E"}]},{title:"以下哪个不是Java的特性？",type:"single",options:[{label:"封装",value:"A"},{label:"继承",value:"B"},{label:"多态",value:"C"},{label:"指针",value:"D"}]},{title:"简述Java中的多态是什么？请举例说明。",type:"text"}]},{id:2,name:"数据库设计考试",duration:"90分钟",startTime:"2024-03-23 14:00",endTime:"2024-03-23 15:30",questions:[{title:"数据库的三大范式是什么？",type:"text"},{title:"以下哪些是关系型数据库？",type:"multiple",options:[{label:"MySQL",value:"A"},{label:"MongoDB",value:"B"},{label:"PostgreSQL",value:"C"},{label:"Redis",value:"D"}]}]}]),S=a(!1),J=a(!1),O=a(!1),B=a({}),z=a([]),N=a(0),j=l({id:0,name:"",duration:"",startTime:"",endTime:"",questions:[]}),A=()=>{O.value=!1,Object.assign(j,{id:0,name:"",duration:"",startTime:"",endTime:"",questions:[]}),J.value=!0},D=()=>{j.questions.push({title:"",type:"single",options:[{label:"",value:"A"},{label:"",value:"B"},{label:"",value:"C"},{label:"",value:"D"}]})},I=()=>{if(j.name&&j.duration&&j.startTime&&j.endTime)if(0!==j.questions.length){if(O.value){const e=b.findIndex((e=>e.id===j.id));-1!==e&&(b[e]=JSON.parse(JSON.stringify(j)))}else j.id=b.length+1,b.push(JSON.parse(JSON.stringify(j)));J.value=!1,c.success(O.value?"编辑成功":"创建成功")}else c.warning("请至少添加一道题目");else c.warning("请填写完整的考试信息")},E=()=>{const e=setInterval((()=>{N.value>0?N.value--:(clearInterval(e),L())}),1e3)},L=()=>{c.success("考试提交成功！"),S.value=!1};return(e,l)=>{const a=i("el-button"),M=i("el-header"),Q=i("el-table-column"),$=i("el-table"),F=i("el-radio"),P=i("el-radio-group"),R=i("el-checkbox"),G=i("el-checkbox-group"),H=i("el-input"),K=i("el-dialog"),W=i("el-form-item"),X=i("el-date-picker"),Y=i("el-option"),Z=i("el-select"),ee=i("el-form"),le=i("el-card"),ae=i("el-main"),te=i("el-container");return f(),t("div",V,[o(te,null,{default:u((()=>[o(M,null,{default:u((()=>[n("div",_,[l[8]||(l[8]=n("h2",null,"考试列表",-1)),o(a,{type:"primary",onClick:A},{default:u((()=>l[7]||(l[7]=[d("创建考试")]))),_:1})])])),_:1}),o(ae,null,{default:u((()=>[o($,{data:b,style:{width:"100%"}},{default:u((()=>[o(Q,{prop:"name",label:"考试名称"}),o(Q,{prop:"duration",label:"考试时长"}),o(Q,{prop:"startTime",label:"开始时间"}),o(Q,{prop:"endTime",label:"结束时间"}),o(Q,{label:"操作",width:"250"},{default:u((e=>[o(a,{type:"primary",size:"small",onClick:l=>{return a=e.row,B.value=a,z.value=new Array(a.questions.length),S.value=!0,N.value=300,void E();var a}},{default:u((()=>l[9]||(l[9]=[d("开始考试")]))),_:2},1032,["onClick"]),o(a,{type:"warning",size:"small",onClick:l=>{return a=e.row,O.value=!0,Object.assign(j,JSON.parse(JSON.stringify(a))),void(J.value=!0);var a}},{default:u((()=>l[10]||(l[10]=[d("编辑")]))),_:2},1032,["onClick"]),o(a,{type:"danger",size:"small",onClick:l=>{return a=e.row,void v.confirm("确定要删除这个考试吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{const e=b.findIndex((e=>e.id===a.id));-1!==e&&(b.splice(e,1),c.success("删除成功"))}));var a}},{default:u((()=>l[11]||(l[11]=[d("删除")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),o(K,{modelValue:S.value,"onUpdate:modelValue":l[0]||(l[0]=e=>S.value=e),title:"在线考试",width:"80%","close-on-click-modal":!1},{footer:u((()=>[n("span",T,[o(a,{type:"primary",onClick:L},{default:u((()=>l[12]||(l[12]=[d("提交试卷")]))),_:1})])])),default:u((()=>{return[n("div",g,[n("div",h,[n("h3",null,r(B.value.name),1),n("p",null,"考试时长："+r(B.value.duration),1),N.value?(f(),t("div",k,"剩余时间："+r((e=N.value,`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`)),1)):s("",!0)]),B.value.questions?(f(),t("div",C,[(f(!0),t(p,null,m(B.value.questions,((e,l)=>(f(),t("div",{key:l,class:"question-item"},[n("h4",null,r(l+1)+". "+r(e.title),1),"single"===e.type||"multiple"===e.type?(f(),t("div",x,["single"===e.type?(f(),y(P,{key:0,modelValue:z.value[l],"onUpdate:modelValue":e=>z.value[l]=e},{default:u((()=>[(f(!0),t(p,null,m(e.options,((e,l)=>(f(),y(F,{key:l,label:e.value},{default:u((()=>[d(r(e.label),1)])),_:2},1032,["label"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])):(f(),y(G,{key:1,modelValue:z.value[l],"onUpdate:modelValue":e=>z.value[l]=e},{default:u((()=>[(f(!0),t(p,null,m(e.options,((e,l)=>(f(),y(R,{key:l,label:e.value},{default:u((()=>[d(r(e.label),1)])),_:2},1032,["label"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"]))])):"text"===e.type?(f(),y(H,{key:1,type:"textarea",modelValue:z.value[l],"onUpdate:modelValue":e=>z.value[l]=e,rows:4,placeholder:"请输入答案"},null,8,["modelValue","onUpdate:modelValue"])):s("",!0)])))),128))])):s("",!0)])];var e})),_:1},8,["modelValue"]),o(K,{modelValue:J.value,"onUpdate:modelValue":l[6]||(l[6]=e=>J.value=e),title:O.value?"编辑考试":"创建考试",width:"60%"},{footer:u((()=>[n("span",w,[o(a,{onClick:l[5]||(l[5]=e=>J.value=!1)},{default:u((()=>l[17]||(l[17]=[d("取消")]))),_:1}),o(a,{type:"primary",onClick:I},{default:u((()=>l[18]||(l[18]=[d("保存")]))),_:1})])])),default:u((()=>[o(ee,{model:j,"label-width":"100px"},{default:u((()=>[o(W,{label:"考试名称"},{default:u((()=>[o(H,{modelValue:j.name,"onUpdate:modelValue":l[1]||(l[1]=e=>j.name=e),placeholder:"请输入考试名称"},null,8,["modelValue"])])),_:1}),o(W,{label:"考试时长"},{default:u((()=>[o(H,{modelValue:j.duration,"onUpdate:modelValue":l[2]||(l[2]=e=>j.duration=e),placeholder:"请输入考试时长（如：120分钟）"},null,8,["modelValue"])])),_:1}),o(W,{label:"开始时间"},{default:u((()=>[o(X,{modelValue:j.startTime,"onUpdate:modelValue":l[3]||(l[3]=e=>j.startTime=e),type:"datetime",placeholder:"选择开始时间"},null,8,["modelValue"])])),_:1}),o(W,{label:"结束时间"},{default:u((()=>[o(X,{modelValue:j.endTime,"onUpdate:modelValue":l[4]||(l[4]=e=>j.endTime=e),type:"datetime",placeholder:"选择结束时间"},null,8,["modelValue"])])),_:1}),o(W,{label:"考试题目"},{default:u((()=>[n("div",U,[(f(!0),t(p,null,m(j.questions,((e,i)=>(f(),t("div",{key:i,class:"question-edit-item"},[o(le,null,{header:u((()=>[n("div",q,[n("span",null,"题目 "+r(i+1),1),o(a,{type:"danger",size:"small",onClick:e=>(e=>{j.questions.splice(e,1)})(i)},{default:u((()=>l[13]||(l[13]=[d("删除")]))),_:2},1032,["onClick"])])])),default:u((()=>[o(ee,{model:e},{default:u((()=>[o(W,{label:"题目"},{default:u((()=>[o(H,{modelValue:e.title,"onUpdate:modelValue":l=>e.title=l,type:"textarea",rows:2},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),o(W,{label:"题型"},{default:u((()=>[o(Z,{modelValue:e.type,"onUpdate:modelValue":l=>e.type=l,placeholder:"请选择题型"},{default:u((()=>[o(Y,{label:"单选题",value:"single"}),o(Y,{label:"多选题",value:"multiple"}),o(Y,{label:"简答题",value:"text"})])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1024),"single"===e.type||"multiple"===e.type?(f(),y(W,{key:0,label:"选项"},{default:u((()=>[(f(!0),t(p,null,m(e.options,((i,n)=>(f(),t("div",{key:n,class:"option-item"},[o(H,{modelValue:i.label,"onUpdate:modelValue":e=>i.label=e,placeholder:"选项内容"},{prepend:u((()=>[d(r(String.fromCharCode(65+n)),1)])),_:2},1032,["modelValue","onUpdate:modelValue"]),o(a,{type:"danger",size:"small",onClick:l=>((e,l)=>{e.options&&e.options.splice(l,1)})(e,n)},{default:u((()=>l[14]||(l[14]=[d("删除")]))),_:2},1032,["onClick"])])))),128)),o(a,{type:"primary",size:"small",onClick:l=>(e=>{e.options||(e.options=[]),e.options.push({label:"",value:String.fromCharCode(65+e.options.length)})})(e)},{default:u((()=>l[15]||(l[15]=[d("添加选项")]))),_:2},1032,["onClick"])])),_:2},1024)):s("",!0)])),_:2},1032,["model"])])),_:2},1024)])))),128)),o(a,{type:"primary",onClick:D},{default:u((()=>l[16]||(l[16]=[d("添加题目")]))),_:1})])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title"])])),_:1})])),_:1})])}}}),[["__scopeId","data-v-82aaaa9e"]]);export{S as default};
