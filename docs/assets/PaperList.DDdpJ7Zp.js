import{E as te,a as x}from"./index.DDepmA7I.js";import{z as oe,Z as A,r as B,A as p,R as t,J as o,ai as i,C as r,O as u,Q as v,a8 as V,P as m,B as d,L as N,I as C}from"./vue-vendor.DXWlOoHs.js";import{_ as ae}from"./_plugin-vue_export-helper.DlAUqK2U.js";const ne={class:"paper-list"},se={class:"header-content"},re={class:"question-list"},de={class:"question-header"},ie={class:"question-actions"},ue={class:"dialog-footer"},pe={class:"paper-preview"},me={class:"paper-info"},ce={class:"paper-meta"},_e={class:"questions-preview"},fe={class:"question-preview-header"},ve={class:"question-number"},be={class:"question-type"},ye={class:"question-score"},ge={class:"question-content"},Ve={class:"question-title"},Ce={key:0,class:"question-options"},we={class:"question-answer"},ke=oe({__name:"PaperList",setup(Se){const y=A([{id:1,name:"Java基础试卷",totalScore:100,duration:"120分钟",questionCount:20,questions:[{title:"Java中的基本数据类型有哪些？",type:"multiple",score:10,options:[{label:"byte",value:"A"},{label:"short",value:"B"},{label:"int",value:"C"},{label:"long",value:"D"},{label:"string",value:"E"}],answer:["A","B","C","D"]},{title:"以下说法正确吗：Java中的String是基本数据类型",type:"judge",score:5,answer:!1}]}]),g=B(!1),O=B(!1),w=B(!1),k=B({}),n=A({id:0,name:"",totalScore:100,duration:"",questionCount:0,questions:[]}),E=()=>{w.value=!1,Object.assign(n,{id:0,name:"",totalScore:100,duration:"",questionCount:0,questions:[]}),g.value=!0},L=a=>{w.value=!0,Object.assign(n,JSON.parse(JSON.stringify(a))),g.value=!0},M=a=>{k.value=a,O.value=!0},Q=a=>{te.confirm("确定要删除这份试卷吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const l=y.findIndex(_=>_.id===a.id);l!==-1&&(y.splice(l,1),x.success("删除成功"))})},T=()=>{n.questions.push({title:"",type:"single",score:5,options:[{label:"",value:"A"},{label:"",value:"B"},{label:"",value:"C"},{label:"",value:"D"}],answer:""})},F=a=>{n.questions.splice(a,1)},I=a=>{a.options||(a.options=[]),a.options.push({label:"",value:String.fromCharCode(65+a.options.length)})},R=(a,l)=>{a.options&&a.options.splice(l,1)},Z=a=>({single:"单选题",multiple:"多选题",judge:"判断题",text:"简答题"})[a]||a,G=()=>{if(!n.name||!n.duration){x.warning("请填写完整的试卷信息");return}if(n.questions.length===0){x.warning("请至少添加一道题目");return}if(n.questionCount=n.questions.length,n.totalScore=n.questions.reduce((a,l)=>a+l.score,0),w.value){const a=y.findIndex(l=>l.id===n.id);a!==-1&&(y[a]=JSON.parse(JSON.stringify(n)))}else n.id=y.length+1,y.push(JSON.parse(JSON.stringify(n)));g.value=!1,x.success(w.value?"编辑成功":"创建成功")};return(a,l)=>{const _=i("el-button"),H=i("el-header"),S=i("el-table-column"),K=i("el-table"),h=i("el-input"),f=i("el-form-item"),J=i("el-input-number"),U=i("el-option"),j=i("el-select"),W=i("el-checkbox"),X=i("el-checkbox-group"),z=i("el-radio"),Y=i("el-radio-group"),P=i("el-form"),q=i("el-card"),D=i("el-dialog"),ee=i("el-main"),le=i("el-container");return d(),p("div",ne,[t(le,null,{default:o(()=>[t(H,null,{default:o(()=>[r("div",se,[l[7]||(l[7]=r("h2",null,"试卷列表",-1)),t(_,{type:"primary",onClick:E},{default:o(()=>l[6]||(l[6]=[u("创建试卷")])),_:1})])]),_:1}),t(ee,null,{default:o(()=>[t(K,{data:y,style:{width:"100%"}},{default:o(()=>[t(S,{prop:"name",label:"试卷名称"}),t(S,{prop:"totalScore",label:"总分"}),t(S,{prop:"duration",label:"建议时长"}),t(S,{prop:"questionCount",label:"题目数量"}),t(S,{label:"操作",width:"250"},{default:o(e=>[t(_,{type:"primary",size:"small",onClick:b=>M(e.row)},{default:o(()=>l[8]||(l[8]=[u("预览")])),_:2},1032,["onClick"]),t(_,{type:"warning",size:"small",onClick:b=>L(e.row)},{default:o(()=>l[9]||(l[9]=[u("编辑")])),_:2},1032,["onClick"]),t(_,{type:"danger",size:"small",onClick:b=>Q(e.row)},{default:o(()=>l[10]||(l[10]=[u("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),t(D,{modelValue:g.value,"onUpdate:modelValue":l[4]||(l[4]=e=>g.value=e),title:w.value?"编辑试卷":"创建试卷",width:"60%"},{footer:o(()=>[r("span",ue,[t(_,{onClick:l[3]||(l[3]=e=>g.value=!1)},{default:o(()=>l[17]||(l[17]=[u("取消")])),_:1}),t(_,{type:"primary",onClick:G},{default:o(()=>l[18]||(l[18]=[u("保存")])),_:1})])]),default:o(()=>[t(P,{model:n,"label-width":"100px"},{default:o(()=>[t(f,{label:"试卷名称"},{default:o(()=>[t(h,{modelValue:n.name,"onUpdate:modelValue":l[0]||(l[0]=e=>n.name=e),placeholder:"请输入试卷名称"},null,8,["modelValue"])]),_:1}),t(f,{label:"总分"},{default:o(()=>[t(J,{modelValue:n.totalScore,"onUpdate:modelValue":l[1]||(l[1]=e=>n.totalScore=e),min:0,max:100},null,8,["modelValue"])]),_:1}),t(f,{label:"建议时长"},{default:o(()=>[t(h,{modelValue:n.duration,"onUpdate:modelValue":l[2]||(l[2]=e=>n.duration=e),placeholder:"请输入建议时长（如：120分钟）"},null,8,["modelValue"])]),_:1}),t(f,{label:"试卷题目"},{default:o(()=>[r("div",re,[(d(!0),p(v,null,V(n.questions,(e,b)=>(d(),p("div",{key:b,class:"question-edit-item"},[t(q,null,{header:o(()=>[r("div",de,[r("span",null,"题目 "+m(b+1),1),r("div",ie,[t(J,{modelValue:e.score,"onUpdate:modelValue":s=>e.score=s,min:0,max:100,size:"small",placeholder:"分值"},null,8,["modelValue","onUpdate:modelValue"]),t(_,{type:"danger",size:"small",onClick:s=>F(b)},{default:o(()=>l[11]||(l[11]=[u("删除")])),_:2},1032,["onClick"])])])]),default:o(()=>[t(P,{model:e},{default:o(()=>[t(f,{label:"题目"},{default:o(()=>[t(h,{modelValue:e.title,"onUpdate:modelValue":s=>e.title=s,type:"textarea",rows:2},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(f,{label:"题型"},{default:o(()=>[t(j,{modelValue:e.type,"onUpdate:modelValue":s=>e.type=s,placeholder:"请选择题型"},{default:o(()=>[t(U,{label:"单选题",value:"single"}),t(U,{label:"多选题",value:"multiple"}),t(U,{label:"判断题",value:"judge"}),t(U,{label:"简答题",value:"text"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),["single","multiple"].includes(e.type)?(d(),p(v,{key:0},[t(f,{label:"选项"},{default:o(()=>[(d(!0),p(v,null,V(e.options,(s,c)=>(d(),p("div",{key:c,class:"option-item"},[t(h,{modelValue:s.label,"onUpdate:modelValue":$=>s.label=$,placeholder:"选项内容"},{prepend:o(()=>[u(m(String.fromCharCode(65+c)),1)]),_:2},1032,["modelValue","onUpdate:modelValue"]),t(_,{type:"danger",size:"small",onClick:$=>R(e,c)},{default:o(()=>l[12]||(l[12]=[u("删除")])),_:2},1032,["onClick"])]))),128)),t(_,{type:"primary",size:"small",onClick:s=>I(e)},{default:o(()=>l[13]||(l[13]=[u("添加选项")])),_:2},1032,["onClick"])]),_:2},1024),t(f,{label:"正确答案"},{default:o(()=>[e.type==="single"?(d(),C(j,{key:0,modelValue:e.answer,"onUpdate:modelValue":s=>e.answer=s,placeholder:"请选择正确答案"},{default:o(()=>[(d(!0),p(v,null,V(e.options,(s,c)=>(d(),C(U,{key:c,label:String.fromCharCode(65+c),value:String.fromCharCode(65+c)},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):(d(),C(X,{key:1,modelValue:e.answer,"onUpdate:modelValue":s=>e.answer=s},{default:o(()=>[(d(!0),p(v,null,V(e.options,(s,c)=>(d(),C(W,{key:c,label:String.fromCharCode(65+c)},{default:o(()=>[u(m(String.fromCharCode(65+c)),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))]),_:2},1024)],64)):N("",!0),e.type==="judge"?(d(),C(f,{key:1,label:"正确答案"},{default:o(()=>[t(Y,{modelValue:e.answer,"onUpdate:modelValue":s=>e.answer=s},{default:o(()=>[t(z,{label:!0},{default:o(()=>l[14]||(l[14]=[u("正确")])),_:1}),t(z,{label:!1},{default:o(()=>l[15]||(l[15]=[u("错误")])),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)):N("",!0),e.type==="text"?(d(),C(f,{key:2,label:"参考答案"},{default:o(()=>[t(h,{modelValue:e.answer,"onUpdate:modelValue":s=>e.answer=s,type:"textarea",rows:3,placeholder:"请输入参考答案"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)):N("",!0)]),_:2},1032,["model"])]),_:2},1024)]))),128)),t(_,{type:"primary",onClick:T},{default:o(()=>l[16]||(l[16]=[u("添加题目")])),_:1})])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),t(D,{modelValue:O.value,"onUpdate:modelValue":l[5]||(l[5]=e=>O.value=e),title:"试卷预览",width:"80%"},{default:o(()=>[r("div",pe,[r("div",me,[r("h2",null,m(k.value.name),1),r("div",ce,[r("span",null,"总分："+m(k.value.totalScore)+"分",1),r("span",null,"建议时长："+m(k.value.duration),1)])]),r("div",_e,[(d(!0),p(v,null,V(k.value.questions,(e,b)=>(d(),p("div",{key:b,class:"question-preview-item"},[r("div",fe,[r("span",ve,m(b+1),1),r("span",be,"["+m(Z(e.type))+"]",1),r("span",ye,m(e.score)+"分",1)]),r("div",ge,[r("p",Ve,m(e.title),1),["single","multiple"].includes(e.type)?(d(),p("div",Ce,[(d(!0),p(v,null,V(e.options,(s,c)=>(d(),p("div",{key:c,class:"option"},m(String.fromCharCode(65+c))+". "+m(s.label),1))),128))])):N("",!0),r("div",we,[l[19]||(l[19]=r("strong",null,"答案：",-1)),e.type==="single"||e.type==="multiple"?(d(),p(v,{key:0},[u(m(Array.isArray(e.answer)?e.answer.join("、"):e.answer),1)],64)):e.type==="judge"?(d(),p(v,{key:1},[u(m(e.answer?"正确":"错误"),1)],64)):(d(),p(v,{key:2},[u(m(e.answer),1)],64))])])]))),128))])])]),_:1},8,["modelValue"])]),_:1})]),_:1})])}}}),Be=ae(ke,[["__scopeId","data-v-ed955b66"]]);export{Be as default};
